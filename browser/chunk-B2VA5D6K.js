import{A as a,C as s,E as c,H as m,N as b,O as g,U as l,V as u,Y as p,_ as d,a as f,b as P,n as h,z as r}from"./chunk-WXWTOEIB.js";var v=class o{paginationTitle=a("Pagination Controls");hasNextPage=a.required();hasPreviousPage=a.required();loading=a.required();next=r();previous=r();static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-pagination"]],inputs:{paginationTitle:[1,"paginationTitle"],hasNextPage:[1,"hasNextPage"],hasPreviousPage:[1,"hasPreviousPage"],loading:[1,"loading"]},outputs:{next:"next",previous:"previous"},decls:5,vars:3,consts:[["role","navigation",1,"pagination-controls"],["aria-label","Load previous page",3,"click","disabled"],["aria-label","Load next page",3,"click","disabled"]],template:function(e,t){e&1&&(l(0,"nav",0)(1,"button",1),p("click",function(){return t.previous.emit()}),d(2," Previous Page "),u(),l(3,"button",2),p("click",function(){return t.next.emit()}),d(4," Next Page "),u()()),e&2&&(b("aria-label",t.paginationTitle()),c(),g("disabled",t.loading()||!t.hasPreviousPage()),c(2),g("disabled",t.loading()||!t.hasNextPage()))},styles:[".pagination-controls[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin:1rem 0}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;background-color:#0366d6;color:#fff;cursor:pointer;transition:background-color .3s ease}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#0255b3}"],changeDetection:0})};var C=class o{pageInfo=s({hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null});cursorStack=s([]);getNextPage(n){if(!n||!this.pageInfo().hasNextPage)return;this.cursorStack().length||this.cursorStack.set([""]),console.log("getNextPage",this.pageInfo(),this.cursorStack());let e=this.pageInfo().endCursor;e&&this.cursorStack.update(t=>[...t,e]),n.fetchMore({variables:{after:e}})}getPreviousPage(n){if(!n||!this.cursorStack().length)return;let e=this.cursorStack(),t=e.length>1?e[e.length-2]:void 0;this.cursorStack.update(i=>i.slice(0,-1)),n.refetch(t?{variables:{after:t}}:{})}pageInfoUpdate(n){this.pageInfo.update(()=>P(f({},n.pageInfo),{hasPreviousPage:!!this.cursorStack()?.length})),console.log("updated result",this.pageInfo(),this.cursorStack()?.length)}getCurrentPageInfo(){return this.pageInfo()}reset(){this.cursorStack.set([]),this.pageInfo.set({hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=h({token:o,factory:o.\u0275fac})};export{v as a,C as b};
